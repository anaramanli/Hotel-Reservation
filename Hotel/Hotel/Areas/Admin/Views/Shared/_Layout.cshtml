<!doctype html>
<html lang="en">

<head>

	<meta charset="utf-8" />
	<title>Caspian Horizon</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta content="Caspian Horizon" name="description" />
	<meta content="Themesbrand" name="author" />
	<!-- App favicon -->
	<link rel="shortcut icon" href="~/admin/assets/images/favicon.ico">

	<!-- preloader css -->
	<link rel="stylesheet" href="~/admin/assets/css/preloader.min.css" type="text/css" />

    <!-- Datatables --> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.8/css/dataTables.dataTables.css" />

	<!-- Bootstrap Css -->
	<link href="~/admin/assets/css/bootstrap.min.css" id="bootstrap-style" rel="stylesheet" type="text/css" />
	<!-- Icons Css -->
	<link href="~/admin/assets/css/icons.min.css" rel="stylesheet" type="text/css" />
	<!-- App Css-->
	<link href="~/admin/assets/css/app.min.css" id="app-style" rel="stylesheet" type="text/css" />
	@await RenderSectionAsync("styles", false)
</head>

<body>

	<!-- <body data-layout="horizontal"> -->
    <!-- Begin page -->
    <div id="layout-wrapper">


        <header id="page-topbar">
            <div class="navbar-header">
                <div class="d-flex">
                    <!-- LOGO -->
                    <div class="navbar-brand-box">
                        <a href="index.html" class="logo logo-dark">
                            <span class="logo-sm">
                                <img src="~/admin/assets/images/logo-sm.svg" alt="" height="24">
                            </span>
                            <span class="logo-lg">
                                <img src="~/admin/assets/images/Caspianblack.png" alt="" width="100%">
                            </span>
                        </a>
                    </div>

                    <button type="button" class="btn btn-sm px-3 font-size-16 header-item" id="vertical-menu-btn">
                        <i class="fa fa-fw fa-bars"></i>
                    </button>

                    
                </div>

                <div class="d-flex">

                    <div class="dropdown d-inline-block d-lg-none ms-2">
                        <button type="button" class="btn header-item" id="page-header-search-dropdown"
                                data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i data-feather="search" class="icon-lg"></i>
                        </button>
                        
                    </div>
                    <div class="dropdown d-none d-sm-inline-block">
                        <button type="button" class="btn header-item" id="mode-setting-btn">
                            <i data-feather="moon" class="icon-lg layout-mode-dark"></i>
                            <i data-feather="sun" class="icon-lg layout-mode-light"></i>
                        </button>
                    </div>
                    <div class="dropdown d-inline-block">
                        <button type="button" class="btn header-item bg-light-subtle border-start border-end" id="page-header-user-dropdown"
                                data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="dripicons-user"></i>
                            <span class="d-none d-xl-inline-block ms-1 fw-medium">@if (User.Identity.IsAuthenticated)
                                {
                                    <p>@User.Identity.Name</p>
                                }
                                </span>
                            <i class="mdi mdi-chevron-down d-none d-xl-inline-block"></i>
                        </button>
                        <div class="dropdown-menu dropdown-menu-end">
                            <!-- item-->
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" asp-action="Logout" asp-controller="Account" asp-area="default"><i class="mdi mdi-logout font-size-16 align-middle me-1"></i> Logout</a>
                        </div>
                    </div>

                </div>
            </div>
        </header>

        <!-- ========== Left Sidebar Start ========== -->
        <div class="vertical-menu">

            <div data-simplebar class="h-100">

                <!--- Sidemenu -->
                <div id="sidebar-menu">
                    <!-- Left Menu Start -->
                    <ul class="metismenu list-unstyled" id="side-menu">
                        <li class="menu-title" data-key="t-menu">Home Controller</li>

                        <li>
                            <a asp-controller="Slider" asp-action="Index">
                                <i data-feather="home"></i>
                                <span data-key="t-dashboard">Slider</span>
                            </a>
                        </li>
                        <li>
                            <a asp-controller="AboutCompany" asp-action="Index">
                                <i class="fas fa-laugh-wink"></i>
                                <span data-key="t-dashboard">About Company</span>
                            </a>
                        </li>
                        <li class="menu-title" data-key="t-menu">Datas</li>
                        <li>
                            <a asp-controller="Category" asp-action="Index">
                                <i class="fa fa-list-alt"></i>
                                <span data-key="t-dashboard">Category</span>
                            </a>
                        </li>
                        <li>
                            <a asp-controller="Room" asp-action="Index">
                                <i class="fa fa-home"></i>
                                <span data-key="t-dashboard">Room</span>
                            </a>
                        </li>
                        <li>
                            <a asp-controller="RoomStatus" asp-action="Index">
                                <i class="bx bx-time-five"></i>
                                <span data-key="t-dashboard">Room Status</span>
                            </a>
                        </li>
                        <li>
                            <a asp-controller="Reservation" asp-action="Index">
                                <i data-feather="users"></i>
                                <span data-key="t-authentication">User And Reservations</span>
                            </a>
                        </li>
                        <li>
                            <a asp-controller="Comment" asp-action="Index">
                                <i class="fas fa-comment"></i>
                                <span data-key="t-authentication">Comments</span>
                            </a>
                        </li>
                        <li>
                            <a asp-controller="UserRole" asp-action="ManageRoles">
                                <i class="fas fa-chess"></i>
                                <span data-key="t-authentication">Roles</span>
                            </a>
                        </li>
                    </ul>

                </div>
                <!-- Sidebar -->
            </div>
        </div>
        <!-- Left Sidebar End -->
        <!-- ============================================================== -->
        <!-- Start right Content here -->
        <!-- ============================================================== -->
        <div class="main-content">

            @RenderBody()
            <!-- End Page-content -->
            @* <div class="pagination-area">
                <nav aria-label="Page navigation example">
                    <ul class="pagination justify-content-center">
                        <!-- Previous Button -->
                        @if (ViewBag.CurrentPage > 0)
                        {
                            <li class="page-item">
                                <a class="page-link" asp-action="Index" asp-route-page="@(ViewBag.CurrentPage - 1)" aria-label="Previous">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>
                        }

                        <!-- Page Numbers -->
                        @for (int i = 1; i <= ViewBag.MaxPage; i++)
                        {
                            <li class="page-item @(i == ViewBag.CurrentPage + 1 ? "active" : "")">
                                <a class="page-link" asp-action="Index" asp-route-page="@(i - 1)">@i</a>
                            </li>
                        }

                        <!-- Next Button -->
                        @if (ViewBag.CurrentPage < ViewBag.MaxPage - 1)
                        {
                            <li class="page-item">
                                <a class="page-link" asp-action="Index" asp-route-page="@(ViewBag.CurrentPage + 1)" aria-label="Next">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                        }
                    </ul>
                </nav>
            </div> *@

            <footer class="footer">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-sm-6">
                            <script>document.write(new Date().getFullYear())</script> © Caspian Horizon.
                        </div>
                        <div class="col-sm-6">
                            <div class="text-sm-end d-none d-sm-block">
                                Design & Develop by <a href="#!" class="text-decoration-underline">Themesbrand</a>
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
        <!-- end main content-->

    </div>
    <!-- END layout-wrapper -->
    <!-- Right Sidebar -->
    <div class="right-bar">
        <div data-simplebar class="h-100">
            <div class="rightbar-title d-flex align-items-center p-3">

                <h5 class="m-0 me-2">Theme Customizer</h5>

                <a href="javascript:void(0);" class="right-bar-toggle ms-auto">
                    <i class="mdi mdi-close noti-icon"></i>
                </a>
            </div>

            <!-- Settings -->
            <hr class="m-0" />

            <div class="p-4">
                <h6 class="mb-3">Layout</h6>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="layout"
                           id="layout-vertical" value="vertical">
                    <label class="form-check-label" for="layout-vertical">Vertical</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="layout"
                           id="layout-horizontal" value="horizontal">
                    <label class="form-check-label" for="layout-horizontal">Horizontal</label>
                </div>

                <h6 class="mt-4 mb-3 pt-2">Layout Mode</h6>

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="layout-mode"
                           id="layout-mode-light" value="light">
                    <label class="form-check-label" for="layout-mode-light">Light</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="layout-mode"
                           id="layout-mode-dark" value="dark">
                    <label class="form-check-label" for="layout-mode-dark">Dark</label>
                </div>

                <h6 class="mt-4 mb-3 pt-2">Layout Width</h6>

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="layout-width"
                           id="layout-width-fuild" value="fuild" onchange="document.body.setAttribute('data-layout-size', 'fluid')">
                    <label class="form-check-label" for="layout-width-fuild">Fluid</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="layout-width"
                           id="layout-width-boxed" value="boxed" onchange="document.body.setAttribute('data-layout-size', 'boxed')">
                    <label class="form-check-label" for="layout-width-boxed">Boxed</label>
                </div>

                <h6 class="mt-4 mb-3 pt-2">Layout Position</h6>

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="layout-position"
                           id="layout-position-fixed" value="fixed" onchange="document.body.setAttribute('data-layout-scrollable', 'false')">
                    <label class="form-check-label" for="layout-position-fixed">Fixed</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="layout-position"
                           id="layout-position-scrollable" value="scrollable" onchange="document.body.setAttribute('data-layout-scrollable', 'true')">
                    <label class="form-check-label" for="layout-position-scrollable">Scrollable</label>
                </div>

                <h6 class="mt-4 mb-3 pt-2">Topbar Color</h6>

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="topbar-color"
                           id="topbar-color-light" value="light" onchange="document.body.setAttribute('data-topbar', 'light')">
                    <label class="form-check-label" for="topbar-color-light">Light</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="topbar-color"
                           id="topbar-color-dark" value="dark" onchange="document.body.setAttribute('data-topbar', 'dark')">
                    <label class="form-check-label" for="topbar-color-dark">Dark</label>
                </div>

                <h6 class="mt-4 mb-3 pt-2 sidebar-setting">Sidebar Size</h6>

                <div class="form-check sidebar-setting">
                    <input class="form-check-input" type="radio" name="sidebar-size"
                           id="sidebar-size-default" value="default" onchange="document.body.setAttribute('data-sidebar-size', 'lg')">
                    <label class="form-check-label" for="sidebar-size-default">Default</label>
                </div>
                <div class="form-check sidebar-setting">
                    <input class="form-check-input" type="radio" name="sidebar-size"
                           id="sidebar-size-compact" value="compact" onchange="document.body.setAttribute('data-sidebar-size', 'md')">
                    <label class="form-check-label" for="sidebar-size-compact">Compact</label>
                </div>
                <div class="form-check sidebar-setting">
                    <input class="form-check-input" type="radio" name="sidebar-size"
                           id="sidebar-size-small" value="small" onchange="document.body.setAttribute('data-sidebar-size', 'sm')">
                    <label class="form-check-label" for="sidebar-size-small">Small (Icon View)</label>
                </div>

                <h6 class="mt-4 mb-3 pt-2 sidebar-setting">Sidebar Color</h6>

                <div class="form-check sidebar-setting">
                    <input class="form-check-input" type="radio" name="sidebar-color"
                           id="sidebar-color-light" value="light" onchange="document.body.setAttribute('data-sidebar', 'light')">
                    <label class="form-check-label" for="sidebar-color-light">Light</label>
                </div>
                <div class="form-check sidebar-setting">
                    <input class="form-check-input" type="radio" name="sidebar-color"
                           id="sidebar-color-dark" value="dark" onchange="document.body.setAttribute('data-sidebar', 'dark')">
                    <label class="form-check-label" for="sidebar-color-dark">Dark</label>
                </div>
                <div class="form-check sidebar-setting">
                    <input class="form-check-input" type="radio" name="sidebar-color"
                           id="sidebar-color-brand" value="brand" onchange="document.body.setAttribute('data-sidebar', 'brand')">
                    <label class="form-check-label" for="sidebar-color-brand">Brand</label>
                </div>

                <h6 class="mt-4 mb-3 pt-2">Direction</h6>

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="layout-direction"
                           id="layout-direction-ltr" value="ltr">
                    <label class="form-check-label" for="layout-direction-ltr">LTR</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="layout-direction"
                           id="layout-direction-rtl" value="rtl">
                    <label class="form-check-label" for="layout-direction-rtl">RTL</label>
                </div>

            </div>

        </div> <!-- end slimscroll-menu-->
    </div>
    <!-- /Right-bar -->
    <!-- Right bar overlay-->
    <div class="rightbar-overlay"></div>


    <!--Admin-Chat -->
    <!DOCTYPE html>
    <html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
            body {
                font-family: Arial, Helvetica, sans-serif;
                background-color: #f9f9f9;
            }

            .open-button {
                background-color: #5156be;
                color: white;
                padding: 16px 20px;
                border: none;
                cursor: pointer;
                border-radius: 5px;
                box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
                position: fixed;
                bottom: 23px;
                right: 28px;
                width: 280px;
                transition: opacity 0.3s;
                z-index: 9;
            }

            .chat-popup {
                display: none;
                position: fixed;
                bottom: 0;
                right: 15px;
                border: 3px solid #f1f1f1;
                border-radius: 15px;
                z-index: 9;
                background-color: white;
                box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
            }

            .form-container {
                width: 300px;
                padding: 10px;
                background-color: white;
                border-radius: 5px;
            }

                .form-container textarea {
                    width: 100%;
                    padding: 15px;
                    margin: 5px 0 22px 0;
                    border: none;
                    background: #f1f1f1;
                    resize: none;
                    min-height: 100px;
                    border-radius: 5px;
                    box-shadow: inset 0px 2px 4px rgba(0, 0, 0, 0.1);
                }

                .form-container .btn {
                    background-color: #5156be;
                    color: white;
                    padding: 16px 20px;
                    border: none;
                    cursor: pointer;
                    width: 100%;
                    margin-bottom: 10px;
                    opacity: 0.9;
                    border-radius: 5px;
                    transition: opacity 0.3s;
                }

                .form-container .cancel {
                    background-color: #ff4c47;
                }

                .form-container .btn:hover, .open-button:hover {
                    opacity: 1;
                }

            .message {
                list-style: none;
                padding: 10px;
                margin-bottom: 10px;
                border-radius: 5px;
            }

                .message.other {
                    background-color: #e6e6e6;
                }

            .messages {
                max-height: 200px;
                overflow-y: auto;
                margin-bottom: 10px;
            }

            .typing {
                color: #999;
                font-style: italic;
                margin-bottom: 10px;
            }
        </style>
    </head>
    <body>

        <button class="open-button" onclick="openForm()">Chat</button>

        <div class="chat-popup" id="myForm">
            <div class="form-container">
                <div class="messages">
                    <ul id="discussion"></ul>
                </div>
                <label for="msg"><b>Message</b></label>
                <div id="typing" class="typing"></div>
                <textarea placeholder="Type message.." id="message" required></textarea>
                <button type="submit" class="btn" id="sendmessage">Send</button>
                <button type="button" class="btn cancel" onclick="closeForm()">Close</button>
            </div>
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/5.0.11/signalr.min.js"></script>

        <script>
            var currentUser = '@User.Identity.Name';
            var defaultUser = "Caspian Horizon";
            var canSendMessage = true;

            document.addEventListener('DOMContentLoaded', (event) => {
                var chatStatus = sessionStorage.getItem("chatOpen");
                if (chatStatus === "true") {
                    openForm();
                }
            });

            function openForm() {
                document.getElementById("myForm").style.display = "flex";
                sessionStorage.setItem("chatOpen", "true");
            }

            function closeForm() {
                document.getElementById("myForm").style.display = "none";
                sessionStorage.setItem("chatOpen", "false");
            }

            var connection = new signalR.HubConnectionBuilder().withUrl("/chatHub").build();

            connection.start().then(() => {
                console.log("Connection started for User");
            }).catch(function (err) {
                console.error(err.toString());
            });

            connection.on("ReceiveMessage", function (user, message) {
                console.log("ReceiveMessage event triggered");
                var encodedMsg = user + ": " + message;
                var li = document.createElement("li");
                li.textContent = encodedMsg;
                li.className = 'message other';
                document.getElementById("discussion").appendChild(li);
                document.querySelector(".messages").scrollTop = document.querySelector(".messages").scrollHeight;
            });

            connection.on("UserTyping", function (user) {
                var typingIndicator = document.getElementById("typing");
                typingIndicator.innerText = user + " is typing...";
                setTimeout(function () {
                    typingIndicator.innerText = "";
                }, 3000);
            });

            function sendMessage() {
                if (!canSendMessage) {
                    return;
                }

                canSendMessage = false;

                var message = document.getElementById("message").value.trim();

                if (message === "") {
                    canSendMessage = true;
                    return;
                }

                console.log("Sending message: " + message);

                connection.invoke("SendMessage", defaultUser, message)
                    .then(() => {
                        console.log("Message sent");
                    })
                    .catch(function (err) {
                        console.error("Error sending message: ", err.toString());
                    });

                var encodedMsg = defaultUser + ": " + message;
                var li = document.createElement("li");
                li.textContent = encodedMsg;
                li.className = 'message other';
                document.getElementById("discussion").appendChild(li);

                document.getElementById("message").value = '';

                setTimeout(function () {
                    canSendMessage = true;
                }, 500);

                document.querySelector(".messages").scrollTop = document.querySelector(".messages").scrollHeight;
            }

            document.getElementById("sendmessage").addEventListener("click", function (event) {
                event.preventDefault();
                sendMessage();
            });

            document.getElementById("message").addEventListener("keypress", function (event) {
                if (event.key === "Enter" && !event.shiftKey) {
                    event.preventDefault();
                    sendMessage();
                } else {
                    connection.invoke("Typing", defaultUser).catch(function (err) {
                        console.error(err.toString());
                    });
                }
            });
        </script>

    </body>
</html>












		<!-- JAVASCRIPT -->
		<script src="~/admin/assets/libs/jquery/jquery.min.js"></script>
		<script src="~/admin/assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
		<script src="~/admin/assets/libs/metismenu/metisMenu.min.js"></script>
		<script src="~/admin/assets/libs/simplebar/simplebar.min.js"></script>
		<script src="~/admin/assets/libs/node-waves/waves.min.js"></script>
		<script src="~/admin/assets/libs/feather-icons/feather.min.js"></script>
        <!-- Datatables -->

        <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>

		<!-- pace js -->
		<script src="~/admin/assets/libs/pace-js/pace.min.js"></script>

		<script src="~/admin/assets/js/app.js"></script>
		<script>
			$(document).ready(function () {
				toastr.options = {
					"closeButton": false,
					"debug": false,
					"newestOnTop": false,
					"progressBar": false,
					"positionClass": "toast-top-right",
					"preventDuplicates": false,
					"onclick": null,
					"showDuration": "300",
					"hideDuration": "1000",
					"timeOut": "5000",
					"extendedTimeOut": "1000",
					"showEasing": "swing",
					"hideEasing": "linear",
					"showMethod": "fadeIn",
					"hideMethod": "fadeOut"
				};

				$('#createBtn').click(function () {
					toastr["success"]("Created");
				});
			});
		</script>
		@await RenderSectionAsync("scripts", false)
</body>

</html>